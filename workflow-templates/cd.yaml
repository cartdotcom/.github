name: Unified Deployments - Continuous Deployment

on:
  push:
    - 'main'
  paths-ignore:
    # Add any paths or globs here that you wish this pipeline to ignore.
    # More information about path ignoring can be found here:
    # https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#example-excluding-paths
    - '.github/**'

jobs:
  CD:
    uses: cartdotcom/unified-deployments/.github/workflows/microservice-cd.yaml@main
    with:
      staging_values_file_path: path/to/preprod/values.yaml
      production_values_file_path: path/to/production/values.yaml